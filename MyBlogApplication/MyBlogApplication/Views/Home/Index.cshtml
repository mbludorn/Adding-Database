@model IEnumerable<MyBlogApplication.Models.Post>
@{
    ViewBag.Title = "Index";
}

@foreach (var @post in Model)
{
    

<h2>Index</h2>

<section class="post">
	<div class="postInfo">
		<img class="thumb" src="author.jpg" />
		<span>@post.Title</span><br />
		<small>By <a href="/author/AuthorName">@post.Author.Name</a>@post.DateCreated.Value.ToShortDateString()</small>
	</div>
	<div class="postContent">   
		
		<img src="@post.ImageURL" />
		
		@post.Body

	</div>
	<div>
		
		<span class="like" data-postId="@post.PostID">
			@post.Likes Likes
		</span> 
		
	</div>

	<div class="comments">
		<span class="showComments">
		<span>Show</span>@post.Comments.Count() comment
		</span>
		
		<div class="commentsDiv">
            @foreach (var comment in post.Comments) {
                @Html.Partial("Comment", comment);
			
            }			
			<form action="@Url.Action("AddComment", "Home")" method "post">
				<label for="author">Your Name</label>
				<input type="text" name="Name" class="commentAuthor" />
				<br />
				<label for="body">Comment</label>
				<textarea name="body" class="commentBody"></textarea>
				<br />
               
                <input type="hidden" name="PostID" value="@post.PostID" />
				<input type="submit" value="Add Comment" />
			</form>
		</div>
        
</section>
    
}